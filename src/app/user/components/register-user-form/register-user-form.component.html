<form (ngSubmit)="submit()" [formGroup]="form">
  <div class="mb-4 grid grid-cols-1 gap-4 md:grid-cols-2">
    <div>
      <label class="block text-sm font-medium text-gray-700"
        >Tipo de identificación</label
      >
      <select
        [class.border-red-500]="
          f['identificationType'].invalid && f['identificationType'].touched
        "
        class="line mt-2 h-[50px] w-full rounded-md border border-gray-300 p-3 focus:border-gray-300 focus:ring-2 focus:ring-primary-500 focus-visible:outline-0 focus-visible:ring-2 focus-visible:ring-primary-500"
        formControlName="identificationType"
        autocomplete="off"
      >
        <option disabled>Selecciona un tipo</option>
        <option [value]="identificationTypes.CedulaCiudadania">
          Cédula de ciudadanía
        </option>
        <option [value]="identificationTypes.CedulaExtranjeria">
          Cédula de extranjería
        </option>
        <option [value]="identificationTypes.TarjetaIdentidad">
          Tarjeta de identidad
        </option>
        <option [value]="identificationTypes.Passport">Pasaporte</option>
        <option [value]="identificationTypes.Other">Otro</option>
      </select>
      <div
        *ngIf="
          f['identificationType']?.invalid && f['identificationType']?.touched
        "
        class="text-sm text-red-500"
      >
        El tipo de identificación es obligatorio.
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700"
        >Número de identificación</label
      >
      <input
        [class.border-red-500]="
          f['identificationNumber'].invalid && f['identificationNumber'].touched
        "
        class="mt-2 w-full rounded-md border border-gray-300 p-3 focus:border-gray-300 focus:ring-2 focus:ring-primary-500 focus-visible:outline-0 focus-visible:ring-2 focus-visible:ring-primary-500"
        formControlName="identificationNumber"
        mask="0*"
        placeholder="10024442626"
        type="text"
        autocomplete="off"
      />
      <div
        *ngIf="
          f['identificationNumber']?.invalid &&
          f['identificationNumber']?.touched
        "
        class="text-sm text-red-500"
      >
        <div *ngIf="f['identificationNumber']?.errors?.['required']">
          El número de identificación es obligatorio.
        </div>
        <div *ngIf="f['identificationNumber']?.errors?.['pattern']">
          Solo se permiten números.
        </div>
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Nombre</label>
      <input
        [class.border-red-500]="
          f['firstName'].invalid && f['firstName'].touched
        "
        class="mt-2 w-full rounded-md border border-gray-300 p-3 focus:ring-2 focus:ring-primary-500 focus-visible:outline-0 focus-visible:ring-2 focus-visible:ring-primary-500"
        formControlName="firstName"
        type="text"
        autocomplete="given-name"
      />
      <div
        *ngIf="f['firstName']?.invalid && f['firstName']?.touched"
        class="text-sm text-red-500"
      >
        <div *ngIf="f['firstName']?.errors?.['required']">
          El nombre es obligatorio.
        </div>
        <div *ngIf="f['firstName']?.errors?.['maxlength']">
          Máximo 50 caracteres permitidos.
        </div>
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Apellido</label>
      <input
        [class.border-red-500]="f['lastName'].invalid && f['lastName'].touched"
        class="mt-2 w-full rounded-md border border-gray-300 p-3 focus:border-gray-300 focus:ring-2 focus:ring-primary-500 focus-visible:outline-0 focus-visible:ring-2 focus-visible:ring-primary-500"
        formControlName="lastName"
        type="text"
        autocomplete="family-name"
      />
      <div
        *ngIf="f['lastName']?.invalid && f['lastName']?.touched"
        class="text-sm text-red-500"
      >
        <div *ngIf="f['lastName']?.errors?.['required']">
          El apellido es obligatorio.
        </div>
        <div *ngIf="f['lastName']?.errors?.['maxlength']">
          Máximo 50 caracteres permitidos.
        </div>
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700"
        >Correo electrónico</label
      >
      <input
        [class.border-red-500]="f['email'].invalid && f['email'].touched"
        [class.border-red-500]="f['email'].invalid && f['email'].touched"
        class="mt-2 w-full rounded-md border border-gray-300 p-3 focus:border-gray-300 focus:ring-2 focus:ring-primary-500 focus-visible:outline-0 focus-visible:ring-2 focus-visible:ring-primary-500"
        formControlName="email"
        placeholder="your.email@domain.com"
        type="email"
        autocomplete="email"
      />
      <div
        *ngIf="f['email']?.invalid && f['email']?.touched"
        class="text-sm text-red-500"
      >
        <div *ngIf="f['email']?.errors?.['required']">
          El correo electrónico es obligatorio.
        </div>
        <div *ngIf="f['email']?.errors?.['email']">
          Introduce un correo electrónico válido.
        </div>
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700"
        >Número de celular</label
      >
      <input
        [class.border-red-500]="
          f['cellphoneNumber'].invalid && f['cellphoneNumber'].touched
        "
        class="mt-2 w-full rounded-md border border-gray-300 p-3 focus:border-gray-300 focus:ring-2 focus:ring-primary-500 focus-visible:outline-0 focus-visible:ring-2 focus-visible:ring-primary-500"
        formControlName="cellphoneNumber"
        mask="000-000-0000"
        placeholder="300-123-4567"
        type="tel"
        autocomplete="tel"
      />
      <div
        *ngIf="f['cellphoneNumber']?.invalid && f['cellphoneNumber']?.touched"
        class="text-sm text-red-500"
      >
        <div *ngIf="f['cellphoneNumber']?.errors?.['required']">
          El número de celular es obligatorio.
        </div>
      </div>
    </div>
  </div>

  <div class="mb-4 grid grid-cols-1 gap-4 md:grid-cols-2">
    <div>
      <label class="block text-sm font-medium text-gray-700">Contraseña</label>
      <input
        [class.border-red-500]="f['password'].invalid && f['password'].touched"
        class="mt-2 w-full rounded-md border border-gray-300 p-3 focus:border-gray-300 focus:ring-2 focus:ring-primary-500 focus-visible:outline-0"
        formControlName="password"
        type="password"
        autocomplete="new-password"
      />
      <div
        *ngIf="f['password']?.invalid && f['password']?.touched"
        class="text-sm text-red-500"
      >
        <div *ngIf="f['password']?.errors?.['required']">
          La contraseña es obligatoria.
        </div>
        <div *ngIf="f['password']?.errors?.['minlength']">
          Debe tener al menos 8 caracteres.
        </div>
        <div *ngIf="f['password']?.errors?.['pattern']">
          Debe incluir una mayúscula, una minúscula, un número y un carácter
          especial.
        </div>
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700"
        >Confirmar contraseña</label
      >
      <input
        [class.border-red-500]="
          f['confirmPassword'].invalid && f['confirmPassword'].touched
        "
        class="mt-2 w-full rounded-md border border-gray-300 p-3 focus:border-gray-300 focus:ring-2 focus:ring-primary-500 focus-visible:outline-0"
        formControlName="confirmPassword"
        type="password"
        autocomplete="new-password"
      />
      <div
        *ngIf="f['confirmPassword']?.invalid && f['confirmPassword']?.touched"
        class="text-sm text-red-500"
      >
        <div *ngIf="f['confirmPassword']?.errors?.['required']">
          La confirmación de contraseña es obligatoria.
        </div>
        <div *ngIf="f['confirmPassword']?.errors?.['mismatch']">
          Las contraseñas no coinciden.
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="errorMessage" class="mb-4 text-sm text-red-500">
    {{ errorMessage }}
  </div>

  <pet-button
    [customClass]="'w-full'"
    [isDisabled]="form.invalid || isLoading"
    [isLoading]="isLoading"
    color="primary"
    loadingText="Registrando..."
    size="medium"
    styling="filled"
    text="Registrarse"
    type="submit"
  >
  </pet-button>
</form>
