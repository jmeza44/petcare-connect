<button
  (click)="handleClick()"
  [appDropdownTrigger]="appDropdownTrigger"
  [attr.aria-busy]="isLoading"
  [attr.aria-disabled]="isDisabled || isLoading"
  [attr.aria-label]="ariaLabel || text || loadingText"
  [disabled]="isDisabled || isLoading"
  [dropdownPosition]="'bottom-right'"
  [ngClass]="getButtonClasses()"
  [type]="type"
  class="inline-flex items-center justify-center gap-2"
  >
  <!-- Left icon or spinner -->
  @if (iconPosition === 'left' && (isLoading || icon)) {
    <fa-icon
      [animation]="isLoading ? 'spin' : undefined"
      [attr.aria-hidden]="true"
      [icon]="isLoading ? spinnerIcon : icon!"
      [ngClass]="{ 'mr-2': text }"
      [size]="iconSize[size]"
    ></fa-icon>
  }

  <!-- Button text -->
  @if (text) {
    <span [class.sr-only]="hideText">{{
      isLoading ? loadingText : text
    }}</span>
  }

  <!-- Right icon or spinner -->
  @if (iconPosition === 'right' && (isLoading || icon)) {
    <fa-icon
      [animation]="isLoading ? 'spin' : undefined"
      [attr.aria-hidden]="true"
      [icon]="isLoading ? spinnerIcon : icon!"
      [ngClass]="{ 'ml-2': text }"
      [size]="iconSize[size]"
    ></fa-icon>
  }
</button>
