<form (ngSubmit)="submit()" [formGroup]="form">
  <div class="mb-4">
    <label class="block text-sm font-medium text-gray-700" for="email"
      >Correo electrónico</label
    >
    <input
      [class.border-red-500]="email?.invalid && email?.touched"
      autocomplete="email"
      class="mt-2 w-full rounded-md border border-gray-300 p-3 outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500"
      formControlName="email"
      id="email"
      placeholder="Introduce tu correo electrónico"
      type="email"
    />
    @if (email?.invalid && email?.touched) {
      <div class="text-sm text-red-500">
        @if (email?.errors?.["required"]) {
          <div>El correo electrónico es obligatorio.</div>
        }
        @if (email?.errors?.["email"]) {
          <div>Introduce un correo electrónico válido.</div>
        }
      </div>
    }
  </div>

  <div class="mb-6">
    <label class="block text-sm font-medium text-gray-700" for="password"
      >Contraseña</label
    >
    <input
      [class.border-red-500]="password?.invalid && password?.touched"
      autocomplete="current-password"
      class="mt-2 w-full rounded-md border border-gray-300 p-3 outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500"
      formControlName="password"
      id="password"
      placeholder="Introduce tu contraseña"
      type="password"
    />
    @if (password?.invalid && password?.touched) {
      <div class="text-sm text-red-500">
        @if (password?.errors?.["required"]) {
          <div>La contraseña es obligatoria.</div>
        }
        @if (password?.errors?.["minlength"]) {
          <div>La contraseña debe tener al menos 6 caracteres.</div>
        }
      </div>
    }
  </div>

  @if (errorMessage) {
    <div class="mb-4 text-sm text-red-500">
      {{ errorMessage }}
    </div>
  }

  <pet-button
    [customClass]="'w-full'"
    [isDisabled]="form.invalid || isLoading"
    [isLoading]="isLoading"
    color="primary"
    loadingText="Iniciando sesión..."
    size="medium"
    styling="filled"
    text="Iniciar sesión"
    type="submit"
  >
  </pet-button>
</form>
